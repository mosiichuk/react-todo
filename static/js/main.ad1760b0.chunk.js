(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{125:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},137:function(e,t,a){e.exports=a(153)},142:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),s=(a(142),a(27)),u=a(40),i=a(14),l=a(196),m=a(205),p=a(197),d=a(127),f=a(193),v=a(194),h=a(206),g=a(195),b=a(6),E=a.n(b),w=a(10),k=a(37),y=a(18),j=a(188),x=a(204),O=a(191),S=a(192),I=a(74),T=a(75);function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://api-nodejs-todolist.herokuapp.com"+e}function P(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem("user"),a=localStorage.getItem("token"),n=t&&a?"Bearer "+a:"",r=e?"application/json":"";return{"Content-Type":r,Authorization:n}}var q=function(){function e(){Object(I.a)(this,e)}return Object(T.a)(e,[{key:"doGet",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(L(t),{headers:P()});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"doPost",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(L(t),{method:"POST",headers:P(!0),body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"doDelete",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(L(t),{method:"DELETE",headers:P()});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"doPut",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(L(t),{method:"PUT",headers:P(!0),body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),A=new q,N=function(){function e(){Object(I.a)(this,e)}return Object(T.a)(e,[{key:"registerUser",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n,r,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,A.doPost("/user/register",t);case 3:a=e.sent,n=a.user,r=a.token,localStorage.setItem("token",r),localStorage.setItem("user",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n,r,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,A.doPost("/user/login",t);case 3:a=e.sent,n=a.user,r=a.token,localStorage.setItem("token",r),localStorage.setItem("user",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logoutUser",value:function(){var e=Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.doPost("/user/logout");case 2:e.sent.success&&(localStorage.removeItem("token"),localStorage.removeItem("user"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),R=new N,C={name:"",email:"",password:"",acceptedTerms:!1},U=k.b({name:k.c().max(15,"Must be 15 characters or less").required("Required"),email:k.c().email("Invalid email addresss").required("Required"),acceptedTerms:k.a().required("Required").oneOf([!0],"You must accept the terms and conditions."),password:k.c().min(8,"Password should contain at least 8 characters").required("Required"),repeatPassword:k.c().min(8,"Password should contain at least 8 characters").required("Required").test("passwords-match","Passwords must match",(function(e){return this.parent.password===e}))}),D=Object(i.f)((function(e){var t=e.changeLoggedIn,a=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Registration form"),r.a.createElement(y.d,{initialValues:C,validationSchema:U,onSubmit:function(){var e=Object(w.a)(E.a.mark((function e(n,r){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.setSubmitting,e.next=3,R.registerUser(n);case 3:c(!0),t(!0),a.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){e.values;var t=e.errors,a=e.isSubmitting,n=e.isValidating,c=e.touched;return r.a.createElement(y.c,null,r.a.createElement(m.a,{mb:2},r.a.createElement(j.a,null,r.a.createElement(y.b,{as:x.a,name:"name",label:"First Name",error:c.name&&!!t.name}),r.a.createElement(y.a,{component:O.a,name:"name",error:!0})),r.a.createElement(j.a,null,r.a.createElement(y.b,{as:x.a,name:"email",type:"email",label:"Email",error:c.email&&!!t.email}),r.a.createElement(y.a,{component:O.a,name:"email",error:!0})),r.a.createElement(j.a,null,r.a.createElement(y.b,{as:x.a,name:"password",type:"password",label:"Password",error:c.password&&!!t.password}),r.a.createElement(y.a,{component:O.a,name:"password",error:!0})),r.a.createElement(j.a,null,r.a.createElement(y.b,{as:x.a,name:"repeatPassword",type:"password",label:"Repeat Password",error:c.repeatPassword&&!!t.repeatPassword}),r.a.createElement(y.a,{component:O.a,name:"repeatPassword",error:!0})),r.a.createElement(j.a,null,r.a.createElement(y.b,{name:"acceptedTerms",type:"checkbox",label:"Accept Terms And Conditions",error:c.acceptedTerms&&!!t.acceptedTerms}),r.a.createElement(y.a,{component:O.a,name:"acceptedTerms",error:!0}))),r.a.createElement(S.a,{variant:"contained",color:"primary",type:"submit",disabled:a||n},"Submit"))})))})),F={email:"",password:""},J=k.b({email:k.c().email("Invalid email address").required("Required"),password:k.c().required("Required")}),V=new N,G=Object(i.f)((function(e){var t=e.history,a=e.changeLoggedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Login form"),r.a.createElement(y.d,{initialValues:F,validationSchema:J,onSubmit:function(){var e=Object(w.a)(E.a.mark((function e(n,r){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.setSubmitting,e.next=3,V.loginUser(n);case 3:c(!0),a(!0),t.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){e.values;var t=e.errors,a=e.isSubmitting,n=e.isValidating,c=e.touched;return r.a.createElement(y.c,null,r.a.createElement(m.a,{mb:2},r.a.createElement(j.a,null,r.a.createElement(y.b,{as:x.a,name:"email",type:"email",label:"Email",error:c.email&&!!t.email}),r.a.createElement(y.a,{component:O.a,name:"email",error:!0})),r.a.createElement(j.a,null,r.a.createElement(y.b,{as:x.a,name:"password",type:"password",label:"Password",error:c.password&&!!t.password}),r.a.createElement(y.a,{component:O.a,name:"password",error:!0}))),r.a.createElement(S.a,{variant:"contained",color:"primary",type:"submit",disabled:a||n},"Submit"))})))}));function _(e){var t=e.children,a=e.value,n=e.index,c=Object(d.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(m.a,{p:3},t))}var B=Object(f.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function M(e){var t=e.changeLoggedIn,a=B(),n=r.a.useState(0),c=Object(s.a)(n,2),o=c[0],u=c[1];return r.a.createElement("div",{className:a.root},r.a.createElement(v.a,{position:"static"},r.a.createElement(h.a,{value:o,onChange:function(e,t){u(t)},centered:!0},r.a.createElement(g.a,{label:"Login"}),r.a.createElement(g.a,{label:"Register"}))),r.a.createElement(_,{value:o,index:0},r.a.createElement(G,{changeLoggedIn:t})),r.a.createElement(_,{value:o,index:1},r.a.createElement(D,{changeLoggedIn:t})))}function z(e){var t=e.changeLoggedIn;return r.a.createElement(l.a,{fixed:!0},r.a.createElement(m.a,{mt:5},r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(p.a,{item:!0,xs:8},r.a.createElement(M,{changeLoggedIn:t})))))}var Y=a(126),H=a(210),K=a(209),Q=a(190),W=new q,X=function(){function e(){Object(I.a)(this,e)}return Object(T.a)(e,[{key:"getAllTasks",value:function(){var e=Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.doGet("/task");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addTask",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,W.doPost("/task",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateTask",value:function(){var e=Object(w.a)(E.a.mark((function e(t){var a,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,W.doPut("/task/".concat(t),a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.doDelete("/task/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Z=a(198),$=a(199),ee=a(200),te=a(207),ae=a(201),ne=a(123),re=a.n(ne),ce=a(124),oe=a.n(ce),se=(a(149),new X),ue=function(e){var t=e.completed,a=e.description,c=e.id,o=e.changeTaskList,u=Object(n.useState)(t),i=Object(s.a)(u,2),l=i[0],m=i[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),v=f[0],h=f[1],g=Object(n.useState)(a),b=Object(s.a)(g,2),k=b[0],y=b[1],j=Object(n.useState)(a),x=Object(s.a)(j,2),O=x[0],I=x[1],T=function(){var e=Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.updateTask(c,{completed:!l});case 2:m(!l);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(w.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.deleteTask(c);case 2:a=e.sent,a.success&&o(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(w.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,se.updateTask(c,{description:k});case 3:a=e.sent,I(a.data.description),h(!v);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(Z.a,{variant:"outlined"},r.a.createElement($.a,{flex:"row"},r.a.createElement(ee.a,null,r.a.createElement(te.a,{checked:l,onChange:T,inputProps:{"aria-label":"primary checkbox"}}),!v&&r.a.createElement("h1",{className:l?"task-done":""},O),v&&r.a.createElement("form",{onSubmit:P},r.a.createElement(H.a,null,r.a.createElement(K.a,{htmlFor:"my-input"},"Add new task"),r.a.createElement(Q.a,{value:k,onChange:function(e){y(e.target.value)}})),r.a.createElement(S.a,{variant:"contained",type:"submit",color:"primary"},"Update")),r.a.createElement(ae.a,{"aria-label":"delete",onClick:L},r.a.createElement(re.a,null)),!l&&r.a.createElement(ae.a,{"aria-label":"delete",color:v?"primary":"default",onClick:function(){y(a),h(!v)}},r.a.createElement(oe.a,null))))))},ie=new X,le=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),i=u[0],m=u[1],d=Object(n.useState)(""),f=Object(s.a)(d,2);f[0],f[1];Object(n.useEffect)((function(){v()}),[]);var v=function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.getAllTasks();case 2:t=e.sent,console.log(t.data),c(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(w.a)(E.a.mark((function e(t){var n,r,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ie.addTask({description:i});case 3:n=e.sent,r=n.success,o=n.data,m(""),r&&c([].concat(Object(Y.a)(a),[o]));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=a.filter((function(t){return t._id!==e}));c(t)};return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Todo list")),r.a.createElement("form",{onSubmit:h},r.a.createElement(H.a,null,r.a.createElement(K.a,{htmlFor:"my-input"},"Add new task"),r.a.createElement(Q.a,{value:i,onChange:function(e){m(e.target.value)}})),r.a.createElement(S.a,{variant:"contained",type:"submit",color:"primary"},"Add")),r.a.createElement(p.a,{container:!0,justify:"center",spacing:3},a.map((function(e){return r.a.createElement(ue,{key:e._id,id:e._id,description:e.description,completed:e.completed,changeTaskList:g})}))))},me=a(202),pe=a(203),de=(a(151),new N);function fe(e){var t,a=e.isLoggedIn,n=e.changeLoggedIn,c=function(){var e=Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.logoutUser();case 2:n(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t=a?r.a.createElement(u.b,{to:"/",onClick:c},r.a.createElement(S.a,{color:"inherit"},"Logout")):r.a.createElement(u.b,{to:"/login"},r.a.createElement(S.a,{color:"inherit"},"Login")),r.a.createElement(r.a.Fragment,null,t)}var ve=function(e){var t=e.isLoggedIn,a=e.changeLoggedIn;return r.a.createElement(v.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(me.a,{className:"menu-bar"},r.a.createElement(u.b,{to:"/"},r.a.createElement(pe.a,{variant:"h6",className:""},"React TODO")),r.a.createElement(fe,{changeLoggedIn:a,isLoggedIn:t}))))},he=a(125),ge=a.n(he);function be(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:ge.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",{className:"App-link"},"React Todo list app"))))}a(152);var Ee=function(){var e=Object(n.useState)(localStorage.getItem("token")&&localStorage.getItem("user")),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(u.a,{basename:"/react-todo/"},r.a.createElement(ve,{changeLoggedIn:c,isLoggedIn:a}),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},!a&&r.a.createElement(be,null),a&&r.a.createElement(le,null)),r.a.createElement(i.a,{path:"/login"},r.a.createElement(z,{changeLoggedIn:c}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.ad1760b0.chunk.js.map